<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script>
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
												$('#img_prev')
												.attr('src', e.target.result)
												.width(200)
												.height(200);
											 };
				reader.readAsDataURL(input.files[0]);
			}
		}
	</script>
</head>
<div id="page">
	<div id="content">
		<div class="post">
			<h2 class="title"><a href="#">Update Profile</a></h2>
			&nbsp;
			<div class="entry">
				<%= form_for @user, :html => { :multipart => true } do |f| %>
				<% if @user.errors.any? %>
					<h2>Errors</h2>
					<ul>
						<% @user.errors.full_messages.each do |message| %>
							<li><%= message %> </li>
						<% end %>
					</ul>
				<% end %>


				<p>
				<img id="img_prev" src=<%= @user.avatar %>  border = "3px" border-color = "black" alt="your image" height = "200" width = "200"/>
				<!--	
				 <input type = "file" name = "image" required = "true" accept = "image/gif, image/png, image/jpeg" onchange="readURL(this)">-->
					<br />
					<%#= image_tag "/system/users/avatars/avatar.jpg",:source=>"/system/users/avatars/avatar.jpg", :class=>"image_prev", :height=>300, :width=>300, :style => "border: 1px solid black", :alt=>"your image" %>
					<br/>
					<%= f.file_field :avatar, :onchange=>"readURL(this);", :name => "image", :accept => "image/gif, image/png, image/jpeg" %>
				</p>
				<p>
					<%= f.label :name %><br />
					<%= f.text_field :name %>
				</p>
				<p>
					<%= f.label :address %><br />
					<%= f.text_field :address %>
				</p>
				<p>
					<%= f.label :contact_num %><br />
					<%= f.text_field :contact_num %>
				</p>

				<p>
					<%= f.label :birthdate %><br />
					<%= f.text_field :birthdate %>
				</p>
				<p>
					<%= f.submit "Update Profile"%>
				</p>
			<% end %>
			</div>
		</div>
	</div>
	<!-- end #content -->
	
</div>